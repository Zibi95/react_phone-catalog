{"version":3,"sources":["components/SpecTable/SpecTable.tsx","helpers/filters.ts","components/ProductCard/ProductCard.tsx","components/ProductCardSlider/ProductCardSlider.tsx","components/HomePage/Banner/Banner.tsx","components/HomePage/ShopCategories/ShopCategory.tsx","components/HomePage/ShopCategories/ShopCategories.tsx","routes/HomePage/HomePage.tsx"],"names":["SpecTable","specifications","style","fontSize","fontWeight","specCount","className","Object","entries","map","i","key","value","Array","isArray","join","sortProducts","products","activeFilter","sort","a","b","year","name","localeCompare","price","filterProducts","query","filter","toLowerCase","includes","getHotPriceProducts","productsToSort","aDiff","fullPrice","slice","getBrandNewProducts","getRandomProducts","numProducts","length","randomProducts","randomProduct","Math","floor","random","push","ProductCard","memo","product","image","screen","capacity","ram","itemId","category","useCart","addCartItem","isInCart","cartItems","some","item","id","specsToShow","Screen","Capacity","RAM","to","src","alt","onClick","width","height","isActive","productId","size","ProductCardSlider","title","useState","slide","setSlide","maxTransition","getVisibleNumberOfProducts","handleClick","useCallback","operation","prevSlide","newSlide","min","max","useEffect","svg","leftArrow","isDisabled","rightArrow","gap","bannerImages","Banner","intId","setInterval","clearInterval","loading","img","classNames","ShopCategory","imageUrl","count","ShopCategories","useProducts","categories","phones","tablets","accessories","HomePage","allProducts","values","flat"],"mappings":"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","file":"static/js/5.e10d41b2.chunk.js","sourcesContent":["import { Specifications } from '@typings/specifications';\nimport './SpecTable.scss';\n\ntype SpecTableProps = {\n  specifications: Specifications;\n  style?: { fontSize: number; fontWeight: number };\n  specCount?: number;\n};\n\nexport const SpecTable = ({\n  specifications,\n  style = { fontSize: 12, fontWeight: 600 },\n  specCount,\n}: SpecTableProps) => (\n  <table className=\"specification-table\">\n    <tbody style={style} className=\"specification-table__body\">\n      {Object.entries(specifications).map(([key, value], i) => {\n        if (specCount && specCount <= i) {\n          return null;\n        }\n\n        return (\n          <tr key={key} className=\"specification-table__row\">\n            <td className=\"specification-table__details\">{key}</td>\n            <td>{Array.isArray(value) ? value.join(', ') : value}</td>\n          </tr>\n        );\n      })}\n    </tbody>\n  </table>\n);\n","import { Product } from '@typings/product';\n\nexport const sortProducts = (products: Product[], activeFilter: string) => {\n  switch (activeFilter) {\n    case 'age':\n      return products.sort((a, b) => b.year - a.year);\n    case 'name':\n      return products.sort((a, b) => a.name.localeCompare(b.name));\n    case 'price':\n      return products.sort((a, b) => a.price - b.price);\n    default:\n      return products;\n  }\n};\n\nexport const filterProducts = (products: Product[], query: string) => {\n  return products.filter(({ name }) => name.toLowerCase().includes(query.toLowerCase()));\n};\n\nexport const getHotPriceProducts = (productsToSort: Product[]) => productsToSort\n  .sort((a, b) => {\n    const aDiff = a.fullPrice - a.price;\n    const bDiff = b.fullPrice - b.price;\n\n    return bDiff - aDiff;\n  })\n  .slice(0, 16);\n\nexport const getBrandNewProducts = (productsToSort: Product[]) => productsToSort.sort((a, b) => b.year - a.year).slice(0, 16);\n\nexport const getRandomProducts = (products: Product[]): Product[] => {\n  const numProducts = products.length;\n  const randomProducts: Product[] = [];\n\n  if (numProducts <= 16) {\n    return products;\n  }\n\n  while (randomProducts.length < 16) {\n    const randomIndex = Math.floor(Math.random() * numProducts);\n    const randomProduct = products[randomIndex];\n\n    if (!randomProducts.includes(randomProduct)) {\n      randomProducts.push(randomProduct);\n    }\n  }\n\n  return randomProducts;\n};\n","import { memo } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Product } from '@typings/product';\nimport { PrimaryButton, FavButton } from '@components/UI';\nimport { SpecTable } from '@components/SpecTable/SpecTable';\nimport { useCart } from '@contexts/cartContext';\nimport './ProductCard.scss';\n\ntype ProductCardProps = {\n  product: Product;\n};\n\nexport const ProductCard = memo(({ product }: ProductCardProps) => {\n  const {\n    image,\n    name,\n    price,\n    screen,\n    capacity,\n    ram,\n    fullPrice,\n    itemId,\n    category,\n  } = product;\n  const { addCartItem, cartItems } = useCart();\n\n  const isInCart = cartItems.some(item => item.id === itemId);\n\n  const specsToShow = {\n    Screen: screen,\n    Capacity: capacity,\n    RAM: ram,\n  };\n\n  return (\n    <div className=\"product-card\">\n      <Link to={`/${category}/${itemId}`} className=\"product-card__link\">\n        <img className=\"product-card__image\" src={image} alt={name} />\n\n        <p className=\"product-card__name\">{name}</p>\n      </Link>\n      <p className=\"product-card__price\">\n        {`$${price}`}\n        {fullPrice - price > 0 && (\n          <span className=\"product-card__price--strike\">{`$${fullPrice}`}</span>\n        )}\n      </p>\n\n      <div className=\"product-card__spec\">\n        <SpecTable specifications={specsToShow} />\n      </div>\n\n      <div className=\"product-card__controls\">\n        <PrimaryButton\n          onClick={() => addCartItem(product)}\n          width={176}\n          height={40}\n          isActive={isInCart}\n        >\n          Add to cart\n        </PrimaryButton>\n\n        <FavButton product={product} productId={itemId} size={40} />\n      </div>\n    </div>\n  );\n});\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { ProductCard } from '@components/ProductCard';\nimport { Product } from '@typings/product';\nimport { Slider, IconButton } from '@components/UI';\nimport leftArrow from '@assets/svg/l_arrow.svg';\nimport rightArrow from '@assets/svg/r_arrow.svg';\nimport { getVisibleNumberOfProducts } from '@helpers/dom';\nimport './ProductCardSlider.scss';\n\ntype ProductCardSliderProps = {\n  title: string;\n  products: Product[];\n};\n\nexport const ProductCardSlider = ({\n  title,\n  products,\n}: ProductCardSliderProps) => {\n  const [slide, setSlide] = useState(0);\n\n  const maxTransition = products.length / getVisibleNumberOfProducts() - 1;\n\n  const handleClick = useCallback(\n    (operation: 1 | -1) => {\n      setSlide(prevSlide => {\n        const newSlide = prevSlide + operation;\n\n        if (operation === 1) {\n          return Math.min(maxTransition, newSlide);\n        }\n\n        return Math.max(0, newSlide);\n      });\n    },\n    [maxTransition],\n  );\n\n  useEffect(() => {\n    setSlide(0);\n  }, [maxTransition]);\n\n  return (\n    <div className=\"cards-container\">\n      <div className=\"cards-container__header\">\n        <h1 className=\"cards-container__title\">{title}</h1>\n\n        <div className=\"cards-container__controls\">\n          <IconButton\n            onClick={() => handleClick(-1)}\n            svg={leftArrow}\n            isDisabled={slide === 0}\n            alt=\"Slide left\"\n          />\n\n          <IconButton\n            onClick={() => handleClick(1)}\n            svg={rightArrow}\n            isDisabled={slide === maxTransition}\n            alt=\"Slide right\"\n          />\n        </div>\n      </div>\n\n      <Slider slide={slide} gap={16}>\n        {products.map(product => (\n          <ProductCard key={product.itemId} product={product} />\n        ))}\n      </Slider>\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport classNames from 'classnames';\n\nimport { IconButton, Slider } from '@components/UI';\nimport leftArrow from '@assets/svg/l_arrow.svg';\nimport rightArrow from '@assets/svg/r_arrow.svg';\nimport './Banner.scss';\n\nconst bannerImages = [\n  'img/banner-phones.png',\n  'img/banner-tablets.png',\n  'img/banner-accessories.png',\n];\n\nexport const Banner = () => {\n  const [slide, setSlide] = useState(1);\n\n  const handleClick = useCallback((operation: 1 | -1) => {\n    setSlide(prevSlide => {\n      if (operation === 1) {\n        return prevSlide + 1 > 2 ? 0 : prevSlide + 1;\n      }\n\n      return prevSlide - 1 < 0 ? 2 : prevSlide - 1;\n    });\n  }, []);\n\n  useEffect(() => {\n    const intId = setInterval(() => handleClick(1), 5000);\n\n    return () => clearInterval(intId);\n  }, [slide]);\n\n  return (\n    <section className=\"banner\">\n      <div className=\"banner__wrapper\">\n        <IconButton\n          onClick={() => handleClick(-1)}\n          svg={leftArrow}\n          alt=\"Banners left button\"\n          height={400}\n        />\n\n        <Slider slide={slide} gap={0}>\n          {bannerImages.map(image => (\n            <div className=\"banner__item\" key={image}>\n              <img\n                loading=\"eager\"\n                className=\"banner__image\"\n                src={image}\n                alt=\"Banner object\"\n              />\n            </div>\n          ))}\n        </Slider>\n\n        <IconButton\n          onClick={() => handleClick(1)}\n          svg={rightArrow}\n          alt=\"Banners right button\"\n          height={400}\n        />\n      </div>\n\n      <div className=\"banner__indicator-container\">\n        {bannerImages.map((img, i) => (\n          <div\n            key={img}\n            className={classNames('banner__indicator', {\n              'banner__indicator--active': slide === i,\n            })}\n          />\n        ))}\n      </div>\n    </section>\n  );\n};\n","import { Link } from 'react-router-dom';\n\ntype ShopCategoryProps = {\n  imageUrl: string;\n  name: string;\n  count: number;\n  to: string;\n};\n\nexport const ShopCategory = ({\n  imageUrl,\n  name,\n  count,\n  to,\n}: ShopCategoryProps) => (\n  <Link to={`/${to}`} className=\"shop-categories__link shop-categories__link\">\n    <div className={`shop-categories__wrapper shop-categories__wrapper--${to}`}>\n      <img\n        className={`shop-categories__image shop-categories__image--${to}`}\n        src={imageUrl}\n        alt=\"\"\n      />\n    </div>\n\n    <p className=\"shop-categories__name\">{name}</p>\n\n    <p className=\"shop-categories__count\">{`${count} models`}</p>\n  </Link>\n);\n","import './ShopCategories.scss';\nimport { useProducts } from '@contexts/productsContext';\nimport { ShopCategory } from './ShopCategory';\n\nexport const ShopCategories = () => {\n  const { products } = useProducts();\n\n  const categories = [\n    {\n      imageUrl: 'img/category-phones.png',\n      name: 'Mobile phones',\n      count: products.phones.length,\n      to: 'phones',\n    },\n    {\n      imageUrl: 'img/category-tablets.png',\n      name: 'Tablets',\n      count: products.tablets.length,\n      to: 'tablets',\n    },\n    {\n      imageUrl: 'img/category-accessories.png',\n      name: 'Accessories',\n      count: products.accessories.length,\n      to: 'accessories',\n    },\n  ];\n\n  return (\n    <div className=\"shop-categories\">\n      <h1 className=\"shop-categories__title\">Shop by category</h1>\n\n      <div\n        className=\"shop-categories__container\"\n        data-cy=\"categoryLinksContainer\"\n      >\n        {categories.map(category => (\n          <ShopCategory key={category.name} {...category} />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { Banner } from '@components/HomePage/Banner/Banner';\nimport { ShopCategories } from '@components/HomePage/ShopCategories/ShopCategories';\nimport { ProductCardSlider } from '@components/ProductCardSlider/ProductCardSlider';\nimport { useProducts } from '@contexts/productsContext';\nimport { getBrandNewProducts, getHotPriceProducts } from '@helpers/filters';\nimport './HomePage.scss';\n\nconst HomePage = () => {\n  const { products } = useProducts();\n  const allProducts = Object.values(products).flat();\n\n  return (\n    <div className=\"home-page\">\n      <Banner />\n      <section className=\"home-page__section\">\n        <ProductCardSlider\n          title=\"Hot prices\"\n          products={getHotPriceProducts(allProducts)}\n        />\n      </section>\n\n      <section className=\"home-page__section\">\n        <ShopCategories />\n      </section>\n\n      <section className=\"home-page__section\">\n        <ProductCardSlider\n          title=\"Brand new models\"\n          products={getBrandNewProducts(allProducts)}\n        />\n      </section>\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"sourceRoot":""}