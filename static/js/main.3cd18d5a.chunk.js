(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],[,,,,,,,,,,,function(e,t,c){"use strict";c.d(t,"f",(function(){return s})),c.d(t,"j",(function(){return i})),c.d(t,"a",(function(){return o.a})),c.d(t,"b",(function(){return u.a})),c.d(t,"c",(function(){return f})),c.d(t,"d",(function(){return O})),c.d(t,"e",(function(){return h})),c.d(t,"g",(function(){return v})),c.d(t,"h",(function(){return y})),c.d(t,"i",(function(){return k}));var n=c(7),a=c.p+"static/media/logo.28c51025.svg",r=c(1),s=function(){return Object(r.jsx)(n.b,{to:"/",children:Object(r.jsx)("img",{src:a,alt:"Site logo"})})},i=(c(50),function(e){var t=e.slide,c=e.gap,n=e.children;return Object(r.jsx)("div",{className:"slider",children:Object(r.jsx)("div",{className:"slider__wrapper",style:{transform:"translateX(".concat(-100*t,"%)"),gap:c},"data-cy":"cardsContainer",children:n})})}),o=c(38),u=c(39),l=c(12),b=c.n(l),j=c(30),d=c.p+"static/media/heart_red.a3b711b5.svg",m=c(17),f=(c(53),function(e){var t=e.size,c=e.product,n=e.productId,a=Object(m.b)(),s=a.addFavItem,i=a.deleteFavItem,o=a.favItems.some((function(e){return e.itemId===n}));return Object(r.jsx)("button",{onClick:function(){return o?i(n):s(c)},style:{width:t,height:t},type:"button",className:"fav-button","data-cy":!o&&"addToFavorite",children:Object(r.jsx)("img",{className:b()("fav-button__icon",{"fav-button__icon--liked":o}),src:o?d:j.a,alt:o?"Delete from favorites":"Add to favorites"})})}),O=(c(54),function(e){var t=e.onClick,c=e.svg,n=e.alt,a=e.isDisabled,s=void 0!==a&&a,i=e.height,o=void 0===i?32:i,u=e.children;return Object(r.jsx)("button",{style:{height:o},className:"button",type:"button",onClick:t,disabled:s,children:u||Object(r.jsx)("img",{className:"button__icon",src:c,alt:n})})}),h=(c(55),function(e){var t=e.width;return Object(r.jsx)("img",{className:"loader",width:t,src:"img/loader.png",alt:"Loading indicator"})}),v=(c(56),function(e){var t=e.width,c=e.height,n=e.children,a=e.onClick,s=e.isActive;return Object(r.jsx)("button",{onClick:a,style:{width:t,height:c},className:b()("cart-button",{"cart-button--selected":s}),type:"button",children:s?"Added to cart":n})}),x=c(4),_=c(0),p=c(3),g=c.p+"static/media/search.55300699.svg",N=c(25),y=(c(57),function(){var e=Object(n.d)(),t=Object(x.a)(e,2),c=t[0],a=t[1],s=Object(_.useState)((function(){return c.get("query")||""})),i=Object(x.a)(s,2),o=i[0],u=i[1],l=Object(p.n)().pathname,b=function(){u(""),c.delete("query"),a(c)};function j(){o?(c.set("query",o),a(c)):b()}return Object(_.useEffect)((function(){var e=setTimeout(j,500);return function(){return clearTimeout(e)}}),[o]),Object(r.jsxs)("label",{className:"search-bar",children:[Object(r.jsx)("input",{className:"search-bar__field",value:o,onChange:function(e){return u(e.target.value)},type:"text",placeholder:"Search in ".concat(l.slice(1),"...")}),o?Object(r.jsx)("button",{"data-cy":"searchDelete",className:"search-bar__button",onClick:b,type:"button",children:Object(r.jsx)("img",{className:"search-bar__icon",src:N.a,alt:"Clear query"})}):Object(r.jsx)("img",{className:"search-bar__icon",src:g,alt:""})]})}),C=function(e){var t=e.value,c=e.name,n=e.label,a=e.onOptionChange;return Object(r.jsxs)("label",{className:"select__option",children:[Object(r.jsx)("input",{onChange:a,value:t,name:c,type:"radio",className:"select__input"}),n]})},k=(c(58),function(e){var t=e.label,c=e.width,a=e.name,s=e.options,i=Object(n.d)(),o=Object(x.a)(i,2),u=o[0],l=o[1],j=Object(_.useState)(!1),d=Object(x.a)(j,2),m=d[0],f=d[1],O=function(e){var t=e.target.value;u.set(a,t),l(u),f(!1)},h=s[u.get(a)];return Object(_.useEffect)((function(){var e=function(){m||f(!1)};return document.body.addEventListener("mouseup",e),function(){document.body.removeEventListener("mouseup",e)}}),[]),Object(r.jsxs)("div",{className:"select",children:[Object(r.jsx)("label",{className:"select__label",children:t}),Object(r.jsxs)("div",{style:{width:c},className:b()("select__wrapper",{"select__wrapper--active":m}),children:[Object(r.jsx)("button",{onClick:function(){return f(!0)},type:"button",className:"select__field",children:Object(r.jsx)("span",{className:"select__active",children:h})}),Object(r.jsx)("div",{className:b()("select__dropdown",{"select__dropdown--active":m}),children:Object.entries(s).map((function(e){var t=Object(x.a)(e,2),c=t[0],n=t[1];return Object(r.jsx)(C,{label:n,value:c,name:a,onOptionChange:O},c)}))})]})]})})},,function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return a})),c.d(t,"c",(function(){return r}));var n=function(e){var t;return"".concat(null===e||void 0===e||null===(t=e.at(0))||void 0===t?void 0:t.toUpperCase()).concat(null===e||void 0===e?void 0:e.slice(1))},a=function(e,t,c){var n=e.split("-");return n.splice(t,1,c),n.join("-").toLocaleLowerCase()},r=function(e,t){return function(c){var n=c.isActive;return"".concat(e).concat(t||""," ").concat(n?"".concat(e,"--active"):"")}}},,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return b}));var n=c(8),a=c(4),r=c(0),s=c(29),i=c(24),o=c(1),u=Object(r.createContext)({favItems:[],addFavItem:function(){},deleteFavItem:function(){}}),l=function(e){var t=e.children,c=Object(s.a)("favorites",[]),l=Object(a.a)(c,2),b=l[0],j=l[1],d=Object(r.useCallback)((function(e){var t=e;"images"in e&&(t=Object(i.b)(e)),j((function(e){return e.concat(t)}))}),[]),m=Object(r.useCallback)((function(e){j((function(t){return Object(n.a)(t.filter((function(t){return e!==t.itemId})))}))}),[]),f=Object(r.useMemo)((function(){return{favItems:b,addFavItem:d,deleteFavItem:m}}),[b]);return Object(o.jsx)(u.Provider,{value:f,children:t})},b=function(){return Object(r.useContext)(u)}},,,,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return b})),c.d(t,"b",(function(){return j}));var n=c(9),a=c(8),r=c(4),s=c(0),i=c(29),o=c(24),u=c(1),l=Object(s.createContext)({cartItems:[],sumPrice:0,itemsCount:0,addCartItem:function(){},deleteCartItem:function(){},changeItemQuantity:function(){}}),b=function(e){var t=e.children,c=Object(i.a)("cart",[]),b=Object(r.a)(c,2),j=b[0],d=b[1],m=Object(s.useCallback)((function(e){var t;t="images"in e?{product:Object(o.b)(e),id:e.id,quantity:1}:{product:e,id:e.itemId,quantity:1},d((function(e){return e.concat(t)}))}),[]),f=Object(s.useCallback)((function(e){d((function(t){return Object(a.a)(t.filter((function(t){return e!==t.id})))}))}),[]),O=Object(s.useCallback)((function(e,t){d((function(c){return c.map((function(c){if(c.id===e){var a=c.quantity+t;return Object(n.a)(Object(n.a)({},c),{},{quantity:a})}return c}))}))}),[]),h=Object(s.useMemo)((function(){return j.reduce((function(e,t){return e+t.product.price*t.quantity}),0)}),[j]),v=Object(s.useMemo)((function(){return j.reduce((function(e,t){return e+t.quantity}),0)}),[j]),x=Object(s.useMemo)((function(){return{cartItems:j,sumPrice:h,itemsCount:v,addCartItem:m,deleteCartItem:f,changeItemQuantity:O}}),[j]);return Object(u.jsx)(l.Provider,{value:x,children:t})},j=function(){return Object(s.useContext)(l)}},function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"a",(function(){return r}));var n=c(9),a=function(e){return Object(n.a)({image:e.images[0],category:e.images[0].split("/")[1],price:e.priceDiscount,fullPrice:e.priceRegular,itemId:e.id,year:0},e)},r=function(e){return{Screen:e.screen,Resolution:e.resolution,Processor:e.processor,RAM:e.ram,"Built in memory":e.capacity,Camera:e.camera,Zoom:e.zoom,Cell:e.cell}}},function(e,t,c){"use strict";t.a=c.p+"static/media/close.dc88a3f6.svg"},,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(4),a=c(0),r=function(e,t){var c=Object(a.useState)((function(){var c=localStorage.getItem(e);return c?JSON.parse(c):t})),r=Object(n.a)(c,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[e,s]),[s,i]}},function(e,t,c){"use strict";t.a=c.p+"static/media/heart.79446ece.svg"},,,function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"a",(function(){return r}));var n=[window.matchMedia("(max-width: 980px)"),window.matchMedia("(max-width: 760px)")],a=function(){window.scrollY>200&&window.scrollTo({top:0,left:0,behavior:"smooth"})},r=function(){return n[1].matches?2:n[0].matches?3:4}},function(e,t,c){"use strict";c.d(t,"a",(function(){return d})),c.d(t,"b",(function(){return m}));var n=c(6),a=c(8),r=c(4),s=c(9),i=c(0),o=c(41),u=c(1),l=Object(i.createContext)(void 0),b=function(e,t){switch(t.type){case"loading":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case"products/loaded":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,products:t.payload});case"failed":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,error:t.payload});default:return e}},j={products:{phones:[],tablets:[],accessories:[]},isLoading:!1,error:""},d=function(e){var t=e.children,c=Object(i.useReducer)(b,j),d=Object(r.a)(c,2),m=d[0],f=m.products,O=m.isLoading,h=m.error,v=d[1];Object(i.useEffect)((function(){v({type:"loading"}),Object(o.b)().then((function(e){var t=e.reduce((function(e,t){var c=t.category;return Object(s.a)(Object(s.a)({},e),{},Object(n.a)({},c,[].concat(Object(a.a)(e[c]),[t])))}),{phones:[],tablets:[],accessories:[]});v({type:"products/loaded",payload:t})})).catch((function(e){return v({type:"failed",payload:e})}))}),[]);var x=Object(i.useMemo)((function(){return{products:f,isLoading:O,error:h}}),[f,O]);return Object(u.jsx)(l.Provider,{value:x,children:t})},m=function(){return Object(i.useContext)(l)}},function(e,t,c){"use strict";t.a=c.p+"static/media/l_arrow.081ebe62.svg"},function(e,t,c){"use strict";t.a=c.p+"static/media/r_arrow.4240ad0e.svg"},function(e,t,c){"use strict";t.a=c.p+"static/media/home.1816ab2c.svg"},function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var n=c(3),a=c(35),r=(c(51),c(1)),s=function(){var e=Object(n.p)();return Object(r.jsxs)("button",{"data-cy":"backButton",onClick:function(){return e(-1)},type:"button",className:"back",children:[Object(r.jsx)("img",{className:"back__icon",src:a.a,alt:"Go back"}),Object(r.jsx)("span",{className:"back__text",children:"Back"})]})}},function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var n=c(3),a=c(7),r=c(13),s=c(37),i=c(36),o=(c(52),c(1)),u=function(){var e=Object(n.n)().pathname.slice(1).split("/");return Object(o.jsxs)("nav",{className:"bread-crumbs","data-cy":"breadCrumbs",children:[Object(o.jsx)(a.b,{to:"/home",children:Object(o.jsx)("img",{className:"bread-crumbs__icon",src:s.a,alt:"Home icon"})}),e.map((function(t,c){return Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{className:"bread-crumbs__icon--color-gray",src:i.a,alt:""}),c===e.length-1?Object(o.jsx)("span",{children:Object(r.a)(t)}):Object(o.jsx)(a.b,{className:"bread-crumbs__link",to:"/".concat(t),children:Object(r.a)(t)})]},t)}))]})}},function(e,t,c){},function(e,t,c){"use strict";c.d(t,"b",(function(){return a})),c.d(t,"a",(function(){return r}));var n=function(e,t){return fetch("https://mate-academy.github.io/react_phone-catalog/_new"+e,{signal:t}).then((function(e){if(!e.ok)throw new Error("".concat(e.status));return e.json()}))},a=function(){return n("/products.json").then((function(e){return e}))},r=function(e,t){return n("/products/".concat(e,".json"),t)}},function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(11),a=(c(60),c(1)),r=function(){return Object(a.jsx)("div",{className:"page-loader",children:Object(a.jsx)(n.e,{width:300})})}},,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(43),a=c.n(n),r=c(7),s=c(0),i=c(3),o=c(4),u=c(12),l=c.n(u),b=c(23),j=c(17),d=c(30),m=c.p+"static/media/cart.0b1e91b6.svg",f=c.p+"static/media/hamburger_menu.7902afc8.svg",O=c(25),h=c(11),v=c(13),x=(c(40),c(1)),_=function(e){var t=e.cartCount;return Object(x.jsxs)("nav",{className:"nav",children:[Object(x.jsx)("div",{className:"nav__item",children:Object(x.jsx)(h.f,{})}),Object(x.jsx)("div",{className:"nav__item nav__item--align-left",children:Object(x.jsxs)(r.c,{className:Object(v.c)("nav__link"," nav__link--icon"),to:"/cart",title:"Cart",children:[Object(x.jsx)("img",{className:"nav__icon",src:m,alt:"Cart"}),Object(x.jsx)("span",{className:"nav__count",children:t})]})})]})},p=Object(v.c)("nav__link"),g=["/favorites","/phones","/tablets","/accessories"],N=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(i.n)().pathname,u=g.includes(a),N=Object(b.b)().cartItems,y=Object(j.b)().favItems;return Object(s.useEffect)((function(){n(!1)}),[a]),"/cart"===a?Object(x.jsx)(_,{cartCount:N.length}):Object(x.jsxs)("nav",{className:"nav",children:[Object(x.jsx)(h.f,{}),Object(x.jsxs)("ul",{className:l()("nav__list",{"nav__list--active":c}),children:[Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(r.c,{className:p,to:"/home",title:"Home",children:"Home"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(r.c,{className:p,to:"/phones",title:"Phones",children:"Phones"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(r.c,{className:p,to:"/tablets",title:"Tablets",children:"Tablets"})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(r.c,{className:p,to:"/accessories",title:"Accessories",children:"Accessories"})})]}),Object(x.jsxs)("ul",{className:"nav__list-icons",children:[u&&Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsx)(h.h,{},a)}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsxs)(r.c,{className:Object(v.c)("nav__link"," nav__link--icon"),to:"/favorites",title:"Favorites",children:[Object(x.jsx)("img",{className:"nav__icon",src:d.a,alt:"Favorites"}),Object(x.jsx)("span",{className:"nav__count",children:y.length})]})}),Object(x.jsx)("li",{className:"nav__item",children:Object(x.jsxs)(r.c,{className:Object(v.c)("nav__link"," nav__link--icon"),to:"/cart",title:"Cart",children:[Object(x.jsx)("img",{className:"nav__icon",src:m,alt:"Cart"}),Object(x.jsx)("span",{className:"nav__count",children:N.length})]})}),Object(x.jsx)("li",{className:"nav__item nav__item--mobile",children:Object(x.jsx)("button",{type:"button",className:"nav__menu-button",onClick:function(){return n(!c)},children:Object(x.jsx)("img",{className:"nav__icon",src:c?O.a:f,alt:"Open nav menu"})})})]})]})},y=c(33),C=c.p+"static/media/arrow_up.83db57fd.svg",k=(c(59),function(){return Object(x.jsxs)("footer",{className:"footer",children:[Object(x.jsx)(h.f,{}),Object(x.jsxs)("ul",{className:"footer__list",children:[Object(x.jsx)("li",{className:"footer__item",children:Object(x.jsx)("a",{title:"Github",target:"_blank",href:"https://github.com/Zibi95/react_phone-catalog",className:"footer__link",rel:"noreferrer",children:"Github"})}),Object(x.jsx)("li",{className:"footer__item",children:Object(x.jsx)("a",{href:"#/",className:"footer__link",children:"Contacts"})}),Object(x.jsx)("li",{className:"footer__item",children:Object(x.jsx)("a",{href:"#/",className:"footer__link",children:"Rights"})})]}),Object(x.jsxs)("button",{className:"footer__button",type:"button",onClick:y.b,children:["Back to top",Object(x.jsx)("img",{className:"footer__icon",src:C,alt:""})]})]})}),w=c(42),I=c(34),S=(c(61),Object(s.lazy)((function(){return c.e(5).then(c.bind(null,96))}))),L=Object(s.lazy)((function(){return c.e(3).then(c.bind(null,95))})),q=Object(s.lazy)((function(){return c.e(7).then(c.bind(null,97))})),P=Object(s.lazy)((function(){return c.e(6).then(c.bind(null,94))})),E=Object(s.lazy)((function(){return c.e(4).then(c.bind(null,98))})),F=Object(s.lazy)((function(){return c.e(8).then(c.bind(null,72))})),z=function(){return Object(x.jsx)("div",{className:"app",children:Object(x.jsx)(j.a,{children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)("header",{className:"app__header",children:Object(x.jsx)(N,{})}),Object(x.jsx)(I.a,{children:Object(x.jsx)("main",{className:"app__main",children:Object(x.jsx)(s.Suspense,{fallback:Object(x.jsx)(w.a,{}),children:Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(i.a,{to:"home",replace:!0})}),Object(x.jsx)(i.b,{path:"home",element:Object(x.jsx)(S,{})}),Object(x.jsxs)(i.b,{path:"phones",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(E,{category:"phones"})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(L,{})})]}),Object(x.jsxs)(i.b,{path:"tablets",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(E,{category:"tablets"})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(L,{})})]}),Object(x.jsxs)(i.b,{path:"accessories",children:[Object(x.jsx)(i.b,{index:!0,element:Object(x.jsx)(E,{category:"accessories"})}),Object(x.jsx)(i.b,{path:":productId",element:Object(x.jsx)(L,{})})]}),Object(x.jsx)(i.b,{path:"cart",element:Object(x.jsx)(q,{})}),Object(x.jsx)(i.b,{path:"favorites",element:Object(x.jsx)(P,{})}),Object(x.jsx)(i.b,{path:"*",element:Object(x.jsx)(F,{title:"Page not found"})})]})})})}),Object(x.jsx)(k,{})]})})})};c(62);a.a.render(Object(x.jsx)(r.a,{children:Object(x.jsx)(z,{})}),document.getElementById("root"))}],[[63,1,2]]]);
//# sourceMappingURL=main.3cd18d5a.chunk.js.map